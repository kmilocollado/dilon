import { c as createComponent, b as createAstro, a as renderTemplate, e as defineScriptVars, r as renderComponent, m as maybeRenderHead, d as addAttribute } from '../../chunks/astro/server_RBOATzLn.mjs';
import { $ as $$Layout } from '../../chunks/Layout_ISyvxSgV.mjs';
import { g as getProjectsImage } from '../../chunks/projects-collection.api_C3nDNisu.mjs';
export { renderers } from '../../renderers.mjs';

var __freeze = Object.freeze;
var __defProp = Object.defineProperty;
var __template = (cooked, raw) => __freeze(__defProp(cooked, "raw", { value: __freeze(raw || cooked.slice()) }));
var _a;
const $$Astro = createAstro();
async function getStaticPaths() {
  const projectsImage = await getProjectsImage();
  return projectsImage.map((project) => ({
    params: { slug: project.slug },
    props: { project }
  }));
}
const $$slug = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro, $$props, $$slots);
  Astro2.self = $$slug;
  const { project } = Astro2.props;
  const images = project.project?.images || [];
  const projectName = project.project?.namecollection || "Proyecto sin t\xEDtulo";
  return renderTemplate(_a || (_a = __template(["", " <script>(function(){", "\n    // Lightbox functionality\n    let currentImageIndex = 0;\n    \n    const lightbox = document.getElementById('lightbox');\n    const lightboxImage = document.getElementById('lightboxImage');\n    const lightboxCaption = document.getElementById('lightboxCaption');\n    const closeLightboxBtn = document.getElementById('closeLightbox');\n    const prevImageBtn = document.getElementById('prevImage');\n    const nextImageBtn = document.getElementById('nextImage');\n    const galleryItems = document.querySelectorAll('[data-index]');\n\n    function openLightbox(index) {\n        currentImageIndex = index;\n        updateLightboxImage();\n        lightbox.classList.remove('hidden');\n        lightbox.classList.add('flex');\n        document.body.style.overflow = 'hidden';\n    }\n\n    function closeLightbox() {\n        lightbox.classList.add('hidden');\n        lightbox.classList.remove('flex');\n        document.body.style.overflow = 'auto';\n    }\n\n    function updateLightboxImage() {\n        if (images[currentImageIndex]) {\n            lightboxImage.src = images[currentImageIndex].url;\n            lightboxImage.alt = `${projectName} - Imagen ${currentImageIndex + 1}`;\n            lightboxCaption.textContent = `${currentImageIndex + 1} / ${images.length}`;\n        }\n    }\n\n    function showNextImage() {\n        currentImageIndex = (currentImageIndex + 1) % images.length;\n        updateLightboxImage();\n    }\n\n    function showPrevImage() {\n        currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;\n        updateLightboxImage();\n    }\n\n    // Event listeners\n    galleryItems.forEach((item) => {\n        item.addEventListener('click', () => {\n            const index = parseInt(item.getAttribute('data-index'));\n            openLightbox(index);\n        });\n    });\n\n    closeLightboxBtn?.addEventListener('click', closeLightbox);\n    nextImageBtn?.addEventListener('click', showNextImage);\n    prevImageBtn?.addEventListener('click', showPrevImage);\n\n    // Close lightbox when clicking outside the image\n    lightbox?.addEventListener('click', (e) => {\n        if (e.target === lightbox) {\n            closeLightbox();\n        }\n    });\n\n    // Keyboard navigation\n    document.addEventListener('keydown', (e) => {\n        if (!lightbox.classList.contains('hidden')) {\n            if (e.key === 'Escape') closeLightbox();\n            if (e.key === 'ArrowRight') showNextImage();\n            if (e.key === 'ArrowLeft') showPrevImage();\n        }\n    });\n})();<\/script>"], ["", " <script>(function(){", "\n    // Lightbox functionality\n    let currentImageIndex = 0;\n    \n    const lightbox = document.getElementById('lightbox');\n    const lightboxImage = document.getElementById('lightboxImage');\n    const lightboxCaption = document.getElementById('lightboxCaption');\n    const closeLightboxBtn = document.getElementById('closeLightbox');\n    const prevImageBtn = document.getElementById('prevImage');\n    const nextImageBtn = document.getElementById('nextImage');\n    const galleryItems = document.querySelectorAll('[data-index]');\n\n    function openLightbox(index) {\n        currentImageIndex = index;\n        updateLightboxImage();\n        lightbox.classList.remove('hidden');\n        lightbox.classList.add('flex');\n        document.body.style.overflow = 'hidden';\n    }\n\n    function closeLightbox() {\n        lightbox.classList.add('hidden');\n        lightbox.classList.remove('flex');\n        document.body.style.overflow = 'auto';\n    }\n\n    function updateLightboxImage() {\n        if (images[currentImageIndex]) {\n            lightboxImage.src = images[currentImageIndex].url;\n            lightboxImage.alt = \\`\\${projectName} - Imagen \\${currentImageIndex + 1}\\`;\n            lightboxCaption.textContent = \\`\\${currentImageIndex + 1} / \\${images.length}\\`;\n        }\n    }\n\n    function showNextImage() {\n        currentImageIndex = (currentImageIndex + 1) % images.length;\n        updateLightboxImage();\n    }\n\n    function showPrevImage() {\n        currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;\n        updateLightboxImage();\n    }\n\n    // Event listeners\n    galleryItems.forEach((item) => {\n        item.addEventListener('click', () => {\n            const index = parseInt(item.getAttribute('data-index'));\n            openLightbox(index);\n        });\n    });\n\n    closeLightboxBtn?.addEventListener('click', closeLightbox);\n    nextImageBtn?.addEventListener('click', showNextImage);\n    prevImageBtn?.addEventListener('click', showPrevImage);\n\n    // Close lightbox when clicking outside the image\n    lightbox?.addEventListener('click', (e) => {\n        if (e.target === lightbox) {\n            closeLightbox();\n        }\n    });\n\n    // Keyboard navigation\n    document.addEventListener('keydown', (e) => {\n        if (!lightbox.classList.contains('hidden')) {\n            if (e.key === 'Escape') closeLightbox();\n            if (e.key === 'ArrowRight') showNextImage();\n            if (e.key === 'ArrowLeft') showPrevImage();\n        }\n    });\n})();<\/script>"])), renderComponent($$result, "Layout", $$Layout, {}, { "default": async ($$result2) => renderTemplate` ${maybeRenderHead()}<div class="min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"> <!-- Header --> <div class="bg-white shadow-sm sticky top-0 z-10"> <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"> <div class="flex items-center justify-between"> <a href="/projects" class="flex items-center text-gray-600 hover:text-purple-600 transition-colors group"> <svg class="w-5 h-5 mr-2 transform group-hover:-translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path> </svg>
Volver a proyectos
</a> <span class="text-sm text-gray-500">${images.length} imágenes</span> </div> </div> </div> <!-- Main Content --> <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12"> <!-- Title --> <div class="text-center mb-12"> <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold mb-4 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent"> ${projectName} </h1> <p class="text-gray-600">Explora la colección completa</p> </div> <!-- Gallery Grid --> ${images.length > 0 ? renderTemplate`<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8"> ${images.map((image, index) => renderTemplate`<div class="group relative aspect-square bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 cursor-pointer"${addAttribute(index, "data-index")}> <img${addAttribute(image.url, "src")}${addAttribute(`${projectName} - Imagen ${index + 1}`, "alt")} loading="lazy" class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"> <!-- Overlay with index --> <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end justify-center pb-4"> <span class="text-white font-semibold text-lg"> ${index + 1} / ${images.length} </span> </div> </div>`)} </div>` : renderTemplate`<div class="text-center py-20"> <svg class="w-24 h-24 mx-auto text-gray-300 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path> </svg> <h3 class="text-xl text-gray-500 mb-2">No hay imágenes disponibles</h3> <p class="text-gray-400">Este proyecto aún no tiene imágenes cargadas</p> </div>`} </div> <!-- Lightbox Modal --> <div id="lightbox" class="fixed inset-0 bg-black/95 z-50 hidden items-center justify-center p-4"> <!-- Close button --> <button id="closeLightbox" class="absolute top-4 right-4 text-white hover:text-gray-300 transition-colors z-10" aria-label="Cerrar"> <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path> </svg> </button> <!-- Previous button --> <button id="prevImage" class="absolute left-4 text-white hover:text-gray-300 transition-colors" aria-label="Anterior"> <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path> </svg> </button> <!-- Image container --> <div class="max-w-7xl max-h-[90vh] flex flex-col items-center"> <img id="lightboxImage" src="" alt="" class="max-w-full max-h-[80vh] object-contain rounded-lg shadow-2xl"> <p id="lightboxCaption" class="text-white mt-4 text-center text-lg"></p> </div> <!-- Next button --> <button id="nextImage" class="absolute right-4 text-white hover:text-gray-300 transition-colors" aria-label="Siguiente"> <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path> </svg> </button> </div> </div> ` }), defineScriptVars({ images, projectName }));
}, "/Users/kmilo/Work/dani/dilon/src/pages/projects/[slug].astro", void 0);

const $$file = "/Users/kmilo/Work/dani/dilon/src/pages/projects/[slug].astro";
const $$url = "/projects/[slug]";

const _page = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
    __proto__: null,
    default: $$slug,
    file: $$file,
    getStaticPaths,
    url: $$url
}, Symbol.toStringTag, { value: 'Module' }));

const page = () => _page;

export { page };
